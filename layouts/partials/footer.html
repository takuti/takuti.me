    <footer>
      <span class="left">
        &copy; 2012-2022 {{ .Site.Author.name }}.
      </span>
      <span class="right">
        {{ if not (in .Permalink "privacy-policy") }}<a href="{{ "/privacy-policy" | absLangURL }}">{{ i18n "privacyPolicy" }}</a>{{ end }}
      </span>
    </footer>

    <script src="https://kit.fontawesome.com/347de4ecd2.js" crossorigin="anonymous"></script>

    {{ if eq .Section "note" }}
    <!-- KaTeX -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
    <script>
      renderMathInElement(document.body,
        {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false},
            ]
        }
      );

      var inlineMathArray = document.querySelectorAll("script[type='math/tex']");
      for (var i = 0; i < inlineMathArray.length; i++) {
        var inlineMath = inlineMathArray[i];
        var tex = inlineMath.innerText || inlineMath.textContent;
        var replaced = document.createElement("span");
        replaced.innerHTML = katex.renderToString(tex, {displayMode: false});
        inlineMath.parentNode.replaceChild(replaced, inlineMath);
      }

      var displayMathArray = document.querySelectorAll("script[type='math/tex; mode=display']");
      for (var i = 0; i < displayMathArray.length; i++) {
        var displayMath = displayMathArray[i];
        var tex = displayMath.innerHTML;
        var replaced = document.createElement("div");
        replaced.style.cssText = "overflow-x: auto;"
        replaced.innerHTML = katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
        displayMath.parentNode.replaceChild(replaced, displayMath);
      }
    </script>
    {{ end }}

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- Avoid using an official template "_internal/google_analytics.html" until https://github.com/gohugoio/hugo/issues/4327 is resolved. -->
    {{ with .Site.GoogleAnalytics }}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ . }}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', '{{ . }}');
    </script>
    {{ end }}

    {{ with resources.Get "js/menu.ts" }}
    {{ $defines := dict "process.env.NODE_ENV" `"development"` }}
    {{ $opts := dict "minify" true "defines" $defines }}
    {{ $built := . | js.Build $opts | fingerprint }}
    <script type="text/javascript" src="{{ $built.RelPermalink }}" defer></script>
    {{ end }}
  </body>
</html>
